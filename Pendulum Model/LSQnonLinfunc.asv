function err = LSQnonLinfunc(X, Realydata, Input) 
% X = [ g, l1, l2, m1, m2, c1, c2, I1, I2,b1, b2, km, Te]
Parameters = CoenParams(X);
simOut = sim('woutModel', 'SrcWorkspace', 'current');
ydata = simOut.Theta.data;
for i = 1:length(ydata(:,1))
   while(ydata(i, 1) < -0.5*pi) 
      ydata(i, 1) = ydata(i, 1) + 2*pi; 
   end
   while(ydata(i, 2) < -0.5*pi) 
      ydata(i, 2) = ydata(i, 2) + 2*pi; 
   end
end
error = (ydata - Realydata);
err = min(error, 2*pi-error)